<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up</title>
    <link rel="stylesheet" href="{% static 'css/signup.css' %}">
</head>
<body>
            <!-- navbar -->

    <nav class="navbar">
        <a href="#" class="logo">Student</a>
        <ul class="nav-links">
            <li><a href="{% url 'login' %}">Login</a></li>
            <li><a href="{% url 'signup' %}">Sign up</a></li>
            <li><a href="{% url 'home' %}">Home</a></li>
            <!-- <li><a href="{% url 'register' %}">Register</a></li> -->
            <!-- <li><a href="{% url 'studentRecord' %}">StudentRecord</a></li> -->
            <!-- <li><a href="{% url 'recycle' %}">Recycle</a></li> -->
        </ul>
    </nav>
    
    


    <!-- signupSection -->
    <!-- From Uiverse.io by alexruix --> 
<div class="form-box">
<form class="form" method="post" action="{% url 'signup' %}">
  {% csrf_token %}
    <span class="title">Sign up</span>
    <span class="subtitle">Create a free account with your email.</span>
    <div class="form-container">
		<input type="email" class="input" name="email" placeholder="Email" required>
		<input type="password" class="input" name="password" placeholder="Password" required>
		<input type="password" class="input" name="confirm_password" placeholder="Confirm Password" required>
    </div>
    <button>Sign up</button>
</form>

<div class="form-section">

    {% if messages %}
    <ul class="messages" id="messages">
      {% for message in messages %}
        <li class="{{ message.tags }}" style="color: red;">{{ message }}</li>
      {% endfor %}
    </ul>
    {% endif %}

  <p>Already have an account? <a href="{% url 'login' %}">Log in</a> </p>
</div>
</div>

<script>
document.querySelectorAll('.input').forEach(input => {
    input.addEventListener('input', function() {
        const messagesDiv = document.getElementById('messages');
        if (messagesDiv) {
            messagesDiv.style.display = 'none';
        }
    });
});

document.querySelector('.form').addEventListener('submit', function(e) {
    const password = document.querySelector('input[name="password"]').value;
    const confirmPassword = document.querySelector('input[name="confirm_password"]').value;
    
    if (password !== confirmPassword) {
        e.preventDefault();
        alert('Passwords do not match!');
        return false;
    }
});
</script>

</body>
</html>